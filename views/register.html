<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<meta name="" />
		<meta name="description" content="一矢光明" />
		<title>
			<%=title%>
		</title>
		<link href="//cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.css" rel="stylesheet">
		<style>
			body {
				padding-top: 80px;
			}
			
			.form-group {
				width: 60%;
				text-align: center;
			}
			
		</style>
	</head>

	<body
		<div class="row">
			<div class="col-md-1">
				</div>
			<div class="col-md-6">
				<a href="#" class="thumbnail">
					<img src="/static/images/img_0.jpg" alt="...">
				</a>
			</div>
			<div class="col-md-4">
				<div class="form-group">
					<%= message %>

					<label for="exampleInputEmail1">Email address</label>
					<input type="email" class="form-control" id="exampleInputEmail1" placeholder="Email">
				</div>
				<div class="form-group">
					<label for="exampleInputPassword1">Password</label>
					<input type="password" class="form-control" id="exampleInputPassword1" placeholder="Password">
					
					<label for="exampleInputPassword2">Confirm</label>
					<input type="password" class="form-control" id="exampleInputPassword2" placeholder="Password">
				</div>
				<button type="submit" class="btn btn-default" onclick="eg.register()">Submit</button>
			</div>
			<div class="col-md-1">
				</div>
		</div>
	</body>
	<!--JS引用-->
	<script src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
	<script src="http://apps.bdimg.com/libs/bootstrap/3.3.4/js/bootstrap.min.js"></script>
	<script>
		var eg = {};
		//从ID获取控件
		eg.$ = function(id) {
			return document.getElementById(id);
		}
		
			eg.register=function (){
			var emailvalue=eg.$('exampleInputEmail1').value;
			var pwdvalue=eg.$('exampleInputPassword1').value;
			if(emailvalue==null||emailvalue==undefined||emailvalue==''||pwdvalue==null||pwdvalue==undefined){
				alert('请输入查询内容');
				return ;
			}else{
			var loadtext='/registermail'+'/'+emailvalue+'/'+pwdvalue;
			loadXMLDoc(loadtext);	
			}
			
		}
		
		var xmlhttp;
		function loadXMLDoc(url) {
			xmlhttp = null;
			if(window.XMLHttpRequest) {
				xmlhttp = new XMLHttpRequest();
			}
			if(xmlhttp != null) {
				xmlhttp.onreadystatechange = state_Change;
				xmlhttp.open("GET", url, true);
				xmlhttp.send(null);
			} else {
				alert("Your browser does not support XMLHTTP.")
			}
		}

		function state_Change() {
			if(xmlhttp.readyState == 4) {
				if(xmlhttp.status == 200) {
					//200="OK"
					//document.getElementById('dataitems').innerHTML = xmlhttp.responseText;
					alert("注册邮件已发送");
				} else {
					alert("请输入正确的邮箱地址");
					//alert("Problem retrieving data:" + xmlhttp.statusText);
				}
			}
		}
	</script>

</html>